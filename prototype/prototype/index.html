<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Air Pro Online — แอร์ และอุปกรณ์แอร์</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif; }
    .container { max-width: 1200px; }
  </style>
</head>
<body class="bg-gray-50">
  <!-- Header -->
  <header class="bg-white border-b sticky top-0 z-50">
    <div class="container mx-auto px-4 py-3 flex items-center gap-4">
      <img src="./logo-airpro.svg" alt="Air Pro Online" class="h-10 w-auto" />
      <nav class="ml-2 hidden md:flex gap-4 text-sm">
        <a href="#home" class="hover:text-blue-600" data-link>หน้าแรก</a>
        <a href="#category" class="hover:text-blue-600" data-link>หมวดหมู่</a>
        <a href="#category" class="hover:text-blue-600" data-link data-category="split">แอร์ผนัง</a>
        <a href="#category" class="hover:text-blue-600" data-link data-category="accessories">อุปกรณ์แอร์</a>
      </nav>
      <div class="ml-auto flex items-center gap-2 w-full md:w-auto">
        <input id="search" placeholder="ยี่ห้อ / รุ่น / BTU" class="flex-1 md:w-72 px-3 py-2 bg-gray-100 rounded-xl outline-none" />
        <button id="btn-search" class="px-3 py-2 rounded-xl bg-blue-600 text-white text-sm">ค้นหา</button>
        <button id="btn-cart" class="px-3 py-2 rounded-xl bg-gray-900 text-white text-sm">ตะกร้า (<span id="cart-count">0</span>)</button>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main id="app" class="container mx-auto px-4 py-6">
    <!-- Views will render here -->
  </main>

  <!-- Footer -->
  <footer class="mt-10 py-10 border-t bg-white">
    <div class="container mx-auto px-4 grid md:grid-cols-4 gap-6 text-sm">
      <div>
        <h4 class="font-semibold mb-2">Air Pro Online</h4>
        <p>ร้านค้าออนไลน์เฉพาะทางสำหรับแอร์และอุปกรณ์แอร์</p>
      </div>
      <div>
        <h4 class="font-semibold mb-2">บริการ</h4>
        <ul class="space-y-1">
          <li>ติดตั้งโดยช่างมืออาชีพ</li>
          <li>Air pro online ยินดีให้บริการ</li>
          <li>รับประกันความพึงพอใจ</li>
        </ul>
      </div>
      <div>
        <h4 class="font-semibold mb-2">ช่วยเหลือ</h4>
        <ul class="space-y-1">
          <li>วิธีเลือก BTU ให้เหมาะกับห้อง</li>
          <li>คู่มือการดูแลรักษา</li>
          <li>ติดต่อเรา</li>
        </ul>
      </div>
      <div>
        <h4 class="font-semibold mb-2">ติดตาม</h4>
        <p>Facebook • Line • Tel</p>
      </div>
    </div>
    <div class="container mx-auto px-4 text-xs text-gray-500 mt-6">© 2025 Air Pro Online</div>
  </footer>

  <script>
    // --- Mock data ---
    const PRODUCTS = [
      { id: 1, name: "TURBO A.P.S-09 SAIJO DENKI", brand: "SAIJO", btu: 9563, price: 13300, rating: 4.6, type: "split", image: "turbo09.jpg" },
      { id: 2, name: "TURBO A.P.S-40T SAIJO DENKI", brand: "SAIJO", btu: 40262, price: 46300, rating: 4.8, type: "split", image: "turbo40T.jpg" },
      { id: 3, name: "SMART COOL SWG-09", brand: "SAIJO", btu: 9563, price: 11500, rating: 4.2, type: "split", image: "smart cool 09.jpg" },
      { id: 4, name: "INVERTER SURE-10", brand: "SAIJO", btu: 9588, price: 13900, rating: 4.1, type: "split", image: "inverter sure10.jpg" },
      { id: 5, name: "INVERTER SURE-36", brand: "SAIJO", btu: 36100, price: 46500, rating: 4.7, type: "split", image: "inverter sure36.jpg" }
    ];
    let CART = [];

    // --- Simple Router ---
    const app = document.getElementById('app');
    function navigate(hash) {
      if (!hash || hash === "#home") renderHome();
      else if (hash.startsWith("#category")) renderCategory(new URLSearchParams(location.hash.split('?')[1]));
      else if (hash.startsWith("#product")) renderProduct(new URLSearchParams(location.hash.split('?')[1]));
      else if (hash.startsWith("#cart")) renderCart();
      else renderHome();
      window.scrollTo({ top: 0, behavior: 'instant' });
    }
    window.addEventListener('hashchange', () => navigate(location.hash));

    // --- Views ---
    function renderHome() {
      app.innerHTML = `
        <section class="rounded-2xl bg-gradient-to-r from-blue-100 to-white p-6">
          <div class="grid md:grid-cols-2 gap-6 items-center">
            <div>
              <h1 class="text-2xl md:text-3xl font-bold mb-2">เลือกแอร์ที่ใช่ สำหรับห้องของคุณ</h1>
              <p class="text-gray-600 mb-4">ราคาดี ติดตั้งไว การันตีคุณภาพ</p>
              <a href="#category" class="inline-block px-4 py-2 bg-blue-600 text-white rounded-xl">เลือกซื้อเลย</a>
            </div>
            <img src="banner.jpg" class="w-full rounded-xl" alt="promo" />
          </div>
        </section>

        <section class="mt-8">
          <h2 class="font-semibold text-lg mb-3">สินค้าแนะนำ</h2>
          <div class="grid md:grid-cols-3 gap-4">
            ${PRODUCTS.slice(0,6).map(card).join('')}
          </div>
        </section>

      `;
    }

    function renderCategory(params) {
      const type = params.get('type') || 'split';
      const items = PRODUCTS.filter(p => p.type === type);
      app.innerHTML = `
        <div class="flex items-center justify-between">
          <h2 class="text-xl font-bold">หมวดหมู่: ${type === 'split' ? 'แอร์ผนัง' : type === 'portable' ? 'แอร์เคลื่อนที่' : 'อุปกรณ์แอร์'}</h2>
          <div class="text-sm">พบ ${items.length} รายการ</div>
        </div>
        <div class="grid md:grid-cols-3 gap-4 mt-4">
          ${items.map(card).join('')}
        </div>
      `;
    }

    function renderProduct(params) {
      const id = Number(params.get('id'));
      const p = PRODUCTS.find(x => x.id === id);
      if (!p) { app.innerHTML = "<p>ไม่พบสินค้า</p>"; return; }
      app.innerHTML = `
        <div class="grid md:grid-cols-2 gap-6">
          <img src="${p.image}" alt="${p.name}" class="w-full rounded-2xl border" />
          <div>
            <h1 class="text-2xl font-bold mb-2">${p.brand} ${p.name}</h1>
            <div class="text-xl text-blue-700 mb-3">฿${p.price.toLocaleString()}</div>
            <p class="text-sm text-gray-600 mb-4">กำลังความเย็น ${p.btu || '-'} BTU • ประหยัดไฟเบอร์ 5 • รับประกันคอมเพรสเซอร์ 10 ปี</p>
            <div class="flex gap-2">
              <button class="px-4 py-2 rounded-xl bg-blue-600 text-white" onclick="addToCart(${p.id})">เพิ่มลงตะกร้า</button>
              <a href="#cart" class="px-4 py-2 rounded-xl border">ดูตะกร้า</a>
            </div>
            <div class="mt-6">
              <h3 class="font-semibold mb-2">สเปกหลัก</h3>
              <ul class="list-disc ml-5 text-sm text-gray-700">
                <li>ขนาดห้องแนะนำ: 12-18 ตร.ม.</li>
                <li>เฟสเดียว 220V</li>
                <li>ฟังก์ชันทำความสะอาดตัวเอง</li>
              </ul>
            </div>
          </div>
        </div>
      `;
    }

    function renderCart() {
      if (CART.length === 0) {
        app.innerHTML = '<p>ตะกร้าของคุณยังว่างอยู่</p>';
        return;
      }
      const items = CART.map(item => {
        const p = PRODUCTS.find(x => x.id === item.id);
        return { ...p, qty: item.qty };
      });
      const subtotal = items.reduce((s, x) => s + x.price * x.qty, 0);
      app.innerHTML = `
        <h2 class="text-xl font-bold mb-4">ตะกร้าสินค้า</h2>
        <div class="grid md:grid-cols-3 gap-6">
          <div class="md:col-span-2 space-y-3">
            ${items.map(x => `
              <div class="flex items-center gap-3 bg-white border rounded-xl p-3">
                <img src="${x.image}" alt="${x.name}" class="w-24 h-16 object-cover rounded-lg border" />
                <div class="flex-1">
                  <div class="font-semibold">${x.brand} ${x.name}</div>
                  <div class="text-sm text-gray-600">฿${x.price.toLocaleString()}</div>
                </div>
                <div class="flex items-center gap-2">
                  <button class="px-2 border rounded" onclick="updateQty(${x.id}, -1)">-</button>
                  <div>${x.qty}</div>
                  <button class="px-2 border rounded" onclick="updateQty(${x.id}, 1)">+</button>
                </div>
                <button class="ml-2 text-sm text-red-600" onclick="removeFromCart(${x.id})">ลบ</button>
              </div>
            `).join('')}
          </div>
          <div class="bg-white border rounded-xl p-4 h-fit">
            <div class="flex justify-between mb-2">
              <div>ยอดรวม</div><div>฿${subtotal.toLocaleString()}</div>
            </div>
            <button class="w-full mt-2 px-4 py-2 rounded-xl bg-green-600 text-white" onclick="checkout()">ชำระเงิน</button>
          </div>
        </div>
      `;
    }

    function card(p) {
      return `
        <div class="bg-white border rounded-2xl overflow-hidden flex flex-col">
          <a href="#product?id=${p.id}" class="block">
            <img src="${p.image}" alt="${p.name}" class="w-full h-48 object-cover" />
          </a>
          <div class="p-3 flex-1 flex flex-col">
            <div class="text-xs text-gray-500">${p.brand}</div>
            <a href="#product?id=${p.id}" class="font-semibold hover:underline">${p.name}</a>
            <div class="mt-auto flex items-center justify-between">
              <div class="text-blue-700 font-semibold">฿${p.price.toLocaleString()}</div>
              <button class="px-3 py-1 rounded-xl bg-blue-600 text-white text-sm" onclick="addToCart(${p.id})">ใส่ตะกร้า</button>
            </div>
          </div>
        </div>
      `;
    }

    // --- Cart logic ---
    function addToCart(id) {
      const found = CART.find(x => x.id === id);
      if (found) found.qty += 1; else CART.push({ id, qty: 1 });
      document.getElementById('cart-count').textContent = CART.reduce((s,x)=>s+x.qty,0);
      alert('เพิ่มลงตะกร้าแล้ว');
    }
    function removeFromCart(id) {
      CART = CART.filter(x => x.id !== id);
      document.getElementById('cart-count').textContent = CART.reduce((s,x)=>s+x.qty,0);
      renderCart();
    }
    function updateQty(id, delta) {
      const item = CART.find(x => x.id === id);
      if (!item) return;
      item.qty = Math.max(1, item.qty + delta);
      document.getElementById('cart-count').textContent = CART.reduce((s,x)=>s+x.qty,0);
      renderCart();
    }
    function checkout() {
      alert('เดโม: ไปหน้าชำระเงิน');
    }

    // --- Search ---
    document.getElementById('btn-search').addEventListener('click', () => {
      const q = document.getElementById('search').value.toLowerCase();
      const result = PRODUCTS.filter(p => (p.name + ' ' + p.brand + ' ' + p.btu).toLowerCase().includes(q));
      app.innerHTML = `
        <h2 class="text-xl font-bold">ผลการค้นหา: "${q}"</h2>
        <div class="grid md:grid-cols-3 gap-4 mt-4">
          ${result.map(card).join('') || '<p>ไม่พบสินค้า</p>'}
        </div>
      `;
    });

    // --- Link handling ---
    document.querySelectorAll('[data-link]').forEach(a => {
      a.addEventListener('click', (e) => {
        const type = a.dataset.category;
        if (type) location.hash = '#category?type=' + type;
      });
    });
    document.getElementById('btn-cart').addEventListener('click', () => location.hash = '#cart');

    // Init
    navigate(location.hash || "#home");
  </script>
</body>
</html>